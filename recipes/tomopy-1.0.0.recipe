# Name: tomopy
# Version: 1.0.0
# Description: Container for tomographic reconstruction using tomopy
# Maintainer: Gladier APS Team <gladier@globus-aps.org>
# Base Image: docker.io/continuumio/miniconda3:latest
# Last Updated: 2025-06-02

# Use the fully qualified Miniconda3 image from Docker Hub.
FROM docker.io/continuumio/miniconda3:latest

# Install Python 3.11 and required packages from conda-forge
RUN conda install -y -c conda-forge \
    python=3.11 \
    tomopy \
    dxchange \
    matplotlib \
    && conda clean -afy

# Install globus-compute-endpoint via pip
RUN pip install --no-cache-dir globus-compute-endpoint

# Default command: launch a bash terminal.
CMD ["/bin/bash"]
