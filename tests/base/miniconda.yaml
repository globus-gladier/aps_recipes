schemaVersion: '2.0.0'

metadataTest:
  env:
    - key: 'PYTHONUNBUFFERED'
      value: '1'
    - key: 'PYTHONDONTWRITEBYTECODE'
      value: '1'
    - key: 'CONDA_ENV'
      value: 'base'

commandTests:
  - name: 'python-version'
    command: 'python'
    args: ['--version']
    expectedOutput: ['Python 3.11.*']

  - name: 'conda-version'
    command: 'conda'
    args: ['--version']
    expectedOutput: ['conda 23.*']

  - name: 'pip-version'
    command: 'pip'
    args: ['--version']
    expectedOutput: ['pip 23.*']

  # - name: 'user-check'
  #   command: 'whoami'
  #   expectedOutput: ['scientist']

fileExistenceTests:
  - name: 'conda-exists'
    path: '/opt/conda/bin/conda'
    shouldExist: true
    permissions: '-rwxr-xr-x'

  - name: 'python-exists'
    path: '/opt/conda/bin/python'
    shouldExist: true
    permissions: '-rwxr-xr-x'

  - name: 'pip-exists'
    path: '/opt/conda/bin/pip'
    shouldExist: true
    permissions: '-rwxr-xr-x'
